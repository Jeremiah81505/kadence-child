/* Countertop Configurator - refreshed design */
.kc-ct-configurator.is-contained{max-width:1200px;margin:0 auto;border:0;background:#f7f9fc}
.kc-ct-tabs{display:flex;gap:14px;align-items:center;padding:14px 16px;border-bottom:1px solid #dbe5f3;background:#f0f5ff}
.kc-ct-tab{appearance:none;background:transparent;border:0;color:#344a8a;border-bottom:3px solid transparent;padding:10px 4px;font:700 14px/1.2 system-ui;cursor:pointer}
.kc-ct-tab.is-active{border-bottom-color:#4f6bd8;color:#21306a}
.kc-ct-tab.add{margin-left:8px;color:#4f6bd8}

.kc-ct-actions{display:flex;justify-content:space-between;gap:10px;padding:10px 16px;border-bottom:1px dashed #c7d3e8;background:#ffffff}
.kc-ct-actions .kc-btn{appearance:none;background:#eef2ff;border:1px solid #c7d3e8;color:#21306a;border-radius:6px;padding:8px 12px;font:600 13px/1.2 system-ui;cursor:pointer}
.kc-ct-actions .kc-btn[disabled]{opacity:.4;cursor:not-allowed}
.kc-ct-actions .kc-toggle{display:inline-flex;gap:6px;align-items:center;font-size:13px;color:#334}
.kc-ct-actions [data-ct-export],.kc-ct-actions [data-ct-import]{background:#fff;border:1px solid #ccd;}

.kc-ct-grid{display:grid;grid-template-columns:1fr 380px;grid-template-areas:'preview side';gap:16px;padding:16px}
.kc-ct-right{grid-area:preview}
.kc-ct-left{grid-area:side}
.kc-side{display:grid;grid-template-columns:100px 1fr;gap:12px}
.kc-side-col{display:flex;flex-direction:column;gap:10px}
.kc-tile{appearance:none;border:0;background:#f8fafc;border-radius:10px;box-shadow:inset 0 0 0 1px #e0e7f3;min-height:60px;padding:10px;color:#2d4a7a;font:700 12px system-ui;text-transform:uppercase;letter-spacing:.04em;cursor:pointer}
.kc-tile.is-active{box-shadow:inset 0 0 0 2px #7db320;background:#f2ffe6}
.kc-panels{display:block}
.kc-panel{background:#f5f6fb;border-radius:12px;box-shadow:inset 0 0 0 1px #e0e7f3;padding:12px}
.kc-panel-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:10px}
.kc-card{border:0;padding:12px;background:#ffffff;border-radius:10px;box-shadow:0 2px 10px rgba(25,48,106,.08)}
.kc-card h3{margin:.2em 0 .6em;font:800 16px/1.2 system-ui;color:#21306a}

.kc-ct-shapes{display:flex;gap:12px;flex-wrap:wrap}
.kc-shape{display:flex;flex-direction:column;align-items:center;gap:6px;padding:10px;border:1px solid #dbe5f3;background:#f8fbff;border-radius:8px;cursor:pointer}
.kc-shape.is-active{border-color:#4f6bd8;box-shadow:0 0 0 3px rgba(79,107,216,.15)}
.kc-shape .ico{width:44px;height:36px;border:2px solid #a9b8e6;background:#eaf0ff;border-radius:4px}
/* Rectangle icon uses default box */
.kc-shape .ico.l{clip-path:polygon(0 0, 100% 0, 100% 40%, 40% 40%, 40% 100%, 0 100%)}
.kc-shape .ico.u{clip-path:polygon(0 0, 40% 0, 40% 70%, 60% 70%, 60% 0, 100% 0, 100% 100%, 0 100%)}

.kc-meas .row{display:grid;grid-template-columns:1fr;gap:8px;padding:8px 0;border-top:1px dotted #e3e9f7}
.kc-meas .row:first-child{border-top:none}
.kc-meas label>span{display:block;font-size:13px;color:#21306a;margin-bottom:4px}
.kc-meas input[type=number]{width:110px;padding:6px 8px;border:1px solid #c7d3e8;border-radius:6px;background:#fbfdff}
.kc-meas .opt{font-size:13px;color:#2c3a6b;display:flex;align-items:center;gap:6px}
.kc-meas .row.disabled{opacity:.6}
.kc-meas .row .note{font-weight:700}

.kc-ct-right{border-left:0}
.kc-ct-preview{position:relative;padding:16px;background:#fff;border-radius:10px;box-shadow:inset 0 0 0 1px #e7ecf7}
.kc-ct-preview svg{width:100%;height:600px;cursor:move;background:
    linear-gradient(0deg, rgba(33,48,106,0.03) 1px, transparent 1px) 0 0/20px 20px,
    linear-gradient(90deg, rgba(33,48,106,0.03) 1px, transparent 1px) 0 0/20px 20px,
    #fff}
.kc-ct-toolbar{position:absolute;left:12px;top:12px;display:flex;gap:8px;background:#f7f9fc;border:1px solid #e0e6f3;border-radius:8px;padding:6px;z-index:2}
.kc-ct-toolbar .kc-tool{appearance:none;background:#fff;border:1px solid #c7d3e8;color:#21306a;border-radius:6px;padding:6px 8px;font:600 12px system-ui;cursor:pointer}
.kc-ct-toolbar .kc-tool.is-active{background:#eef2ff}
.kc-ct-toolbar .kc-tool.danger{border-color:#eAA; color:#a11}
.kc-ct-toolbar .kc-tool:focus{outline:2px solid #8aa3ff}
.kc-ct-toolbar .kc-tool-split{width:1px;background:#e0e6f3;margin:0 4px}
.kc-ct-shape-label{position:absolute;left:12px;top:12px;transform:none;font:700 14px system-ui;color:#21306a;background:#eef2ff;border:1px solid #c7d3e8;border-radius:6px;padding:4px 8px;pointer-events:none}

.kc-ct-legend{position:absolute;right:12px;bottom:12px;display:flex;gap:12px;align-items:center;background:#ffffffcc;border:1px solid #e7ecf7;border-radius:8px;padding:6px 10px;color:#21306a;font:600 12px system-ui;pointer-events:none}
.kc-ct-legend .lg{display:inline-block;width:16px;height:8px;border-radius:2px;margin-right:6px}
.kc-ct-legend .lg-wall{background:#d32f2f}
.kc-ct-legend .lg-bs{background:#ffd8a6;border:1px solid #ffbf6a}

/* Inline measurement inputs (compact) */
.kc-ct-inline{position:absolute;inset:0;pointer-events:none}
.kc-ct-inline .kc-inp{position:absolute;transform:translate(-50%,-50%);transform-origin:center center;pointer-events:auto;background:#fff;border:1px solid #c7d3e8;border-radius:4px;box-shadow:0 2px 6px rgba(0,0,0,.07);padding:2px 3px;z-index:3}
.kc-ct-inline .kc-inp input{width:56px;padding:3px 6px;border:0;outline:none;font:700 12px system-ui;color:#21306a}
.kc-ct-inline .kc-inp input::-webkit-outer-spin-button,.kc-ct-inline .kc-inp input::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}
.kc-ct-inline .kc-inp input[type=number]{appearance:textfield;-moz-appearance:textfield}
.kc-ct-inline .sr{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* resize handles (future) */
.kc-ct-handle{position:absolute;width:10px;height:10px;border:2px solid #4f6bd8;background:#fff;border-radius:50%;box-shadow:0 1px 2px rgba(0,0,0,.2);z-index:3}

.kc-ct-alert{display:flex;gap:10px;border-top:0;margin:0 16px 16px;padding:12px;color:#23356f;background:#fff7ec;border:1px solid #ffd49c;border-radius:8px}
.kc-ct-alert .ico{width:22px;height:22px;border-radius:6px;background:#ff9f43;color:#fff;font:700 14px/22px system-ui;text-align:center}

@media (max-width: 960px){
  .kc-ct-grid{grid-template-columns:1fr;grid-template-areas:'preview' 'side'}
  .kc-ct-right{border-left:none}
}

.kc-visually-hidden{position:absolute!important;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}

/* Options sections */
.kc-ct-options{padding:0 16px 16px}
.kc-section{border-top:1px dotted #e3e9f7;padding:14px 0}
.kc-section h3{display:flex;align-items:center;gap:10px;margin:.2em 0 .8em;font:800 16px/1.2 system-ui;color:#21306a}
.kc-section h3 .sub{font-weight:700;color:#4f6bd8;font-size:13px}
.kc-help{font:700 12px system-ui;color:#4f6bd8;text-decoration:none}
.kc-option-grid{display:flex;flex-wrap:wrap;gap:10px}
.kc-opt{appearance:none;background:#f8fbff;border:1px solid #dbe5f3;color:#21306a;border-radius:999px;padding:8px 12px;font:600 13px/1.2 system-ui;cursor:pointer}
.kc-opt.is-active{border-color:#4f6bd8;box-shadow:0 0 0 3px rgba(79,107,216,.15);color:#21306a}
.kc-fieldset{margin:10px 0}
.kc-field-label{font:700 14px system-ui;color:#21306a;margin:6px 0}
.kc-input{display:inline-block;width:100%;max-width:520px;padding:8px 10px;border:1px solid #c7d3e8;border-radius:6px;background:#fbfdff;font:14px system-ui}
.kc-round-grid,.kc-cutouts{display:grid;grid-template-columns:repeat(3, minmax(200px, 1fr));gap:12px}
.kc-round,.kc-cut{border:1px solid #e7ecf7;padding:12px;background:#fff;border-radius:10px;box-shadow:0 2px 10px rgba(25,48,106,.04)}
.kc-round-title,.kc-cut-title{font:700 14px system-ui;color:#21306a;margin-bottom:8px}
.kc-counter{display:inline-flex;align-items:center;gap:10px;border:1px solid #c7d3e8;border-radius:999px;padding:4px 8px;background:#f8fbff}
.kc-counter .kc-ctr-dec,.kc-counter .kc-ctr-inc{appearance:none;border:0;background:#eaf0ff;color:#21306a;width:28px;height:28px;border-radius:6px;font:700 16px/28px system-ui;text-align:center;cursor:pointer}
.kc-counter .kc-ctr-val{min-width:16px;text-align:center;font:700 14px system-ui}
@media (max-width: 960px){
  .kc-round-grid,.kc-cutouts{grid-template-columns:1fr}
}

/* Summary */
.kc-summary .kc-summary-grid{display:grid;grid-template-columns:repeat(3,minmax(180px,1fr));gap:12px}
.kc-summary .kc-summary-grid>div{border:1px solid #e7ecf7;padding:10px;background:#fff;border-radius:10px;box-shadow:0 2px 10px rgba(25,48,106,.04)}
.kc-summary strong{display:block;font:800 13px system-ui;color:#21306a;margin-bottom:6px}
@media (max-width: 960px){
  .kc-summary .kc-summary-grid{grid-template-columns:1fr}
}
